<nav id="header" class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="user-panel col-sm-3">
      <a
        ng-show="conn.isGuest"
        type="button"
        class="btn btn-sm btn-primary"
        href="{{provider.url}}">
        <span class="glyphicon glyphicon-off"></span>
        Login with Twitter
      </a>
      <div ng-show="!conn.isGuest" class="btn-group">
        <button type="button" class="btn btn-sm dropdown-toggle" data-toggle="dropdown">
          <span class="avatar">
            <span class="glyphicon glyphicon-user"><img src=""></span>
          </span>
          {{users.$local.displayName}} <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
          <li><a href="{{conn.logoutUrl}}"><span class="glyphicon glyphicon-off"></span> Logout</a></li>
        <!-- <li><a href="#"><span class="glyphicon glyphicon-plus-sign"></span> Add Talk</a></li> -->
        </ul>
      </div>
    </div>
    <div class="col-sm-6">
      <h1 id="site-id">
        <a href="/">Soapbox</a>
      </h1>
    </div>
    <div class="user-actions col-sm-3">
      <button
        ng-class="{ 'disabled': conn.isGuest }"
        ui-sref="talks.add"
        type="button"
        class="btn btn-primary">
        <span class="glyphicon glyphicon-plus-sign"></span> New Talk
      </button>
    </div>
  </div>
</nav>
<script type="text/javascript">
  window.addEventListener('scroll', function(e){
      var distanceY = window.pageYOffset || document.documentElement.scrollTop,
          shrinkOn = 70,
          header = $("#header");
      if (distanceY > shrinkOn) {
          $(header).addClass("smaller");

      } else {
          if ($(header).hasClass("smaller")) {
              $(header).removeClass("smaller");
          }
      }
  });
</script>
